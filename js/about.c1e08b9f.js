"use strict";(self["webpackChunkweek7"]=self["webpackChunkweek7"]||[]).push([[443],{381:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var l=e(252);const o={class:"about"},d=(0,l._)("h1",null,"This is an about page",-1),s=[d];function n(t,a){return(0,l.wg)(),(0,l.iD)("div",o,s)}var r=e(744);const i={},c=(0,r.Z)(i,[["render",n]]);var u=c},899:function(t,a,e){e.r(a),e.d(a,{default:function(){return w}});var l=e(252),o=e(963);const d=t=>((0,l.dD)("data-v-1c886ea4"),t=t(),(0,l.Cn)(),t),s={id:"app"},n={class:"container"},r={class:"row justify-content-center"},i=d((()=>(0,l._)("h1",{class:"h3 mb-3 font-weight-normal"}," 請先登入 ",-1))),c={class:"col-8"},u={id:"form",class:"form-signin"},p={class:"form-floating mb-3"},m=d((()=>(0,l._)("label",{for:"username"},"Email address",-1))),b={class:"form-floating"},h=d((()=>(0,l._)("label",{for:"password"},"Password",-1))),_=d((()=>(0,l._)("p",{class:"mt-5 mb-3 text-muted"}," © 2021~∞ - 六角學院 ",-1)));function g(t,a,e,d,g,v){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",n,[(0,l._)("div",r,[i,(0,l._)("div",c,[(0,l._)("form",u,[(0,l._)("div",p,[(0,l.wy)((0,l._)("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com","onUpdate:modelValue":a[0]||(a[0]=t=>g.user.username=t),required:"",autofocus:""},null,512),[[o.nr,g.user.username]]),m]),(0,l._)("div",b,[(0,l.wy)((0,l._)("input",{type:"password",class:"form-control",id:"password",placeholder:"Password","onUpdate:modelValue":a[1]||(a[1]=t=>g.user.password=t),required:""},null,512),[[o.nr,g.user.password]]),h]),(0,l._)("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"button",onClick:a[2]||(a[2]=(...t)=>v.login&&v.login(...t))}," 登入 ")])])]),_])])}var v={data(){return{user:{username:"",password:""}}},methods:{login(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then((t=>{const{token:a,expired:e}=t.data;document.cookie=`myToken=${a}; expires=${new Date(e)}`,this.$router.push("/HomePagedashboard")})).catch((t=>{console.log(t),alert("帳號密碼有誤或無輸入帳號密碼")}))}}},f=e(744);const y=(0,f.Z)(v,[["render",g],["__scopeId","data-v-1c886ea4"]]);var w=y},470:function(t,a,e){e.r(a),e.d(a,{default:function(){return U}});var l=e(252),o=e(577);const d={id:"app"},s={class:"container"},n=(0,l._)("div",{class:"text-end mt-4"},[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#couponCreate"}," 建立優惠卷 ")],-1),r={class:"table mt-4"},i=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"120"}," 截止日期 "),(0,l._)("th",null,"優惠卷標題"),(0,l._)("th",{width:"100"}," 折扣 "),(0,l._)("th",{width:"100"}," 代碼 "),(0,l._)("th",{width:"100"}," 是否啟用 "),(0,l._)("th",null," 編輯 ")])],-1),c={class:""},u={class:""},p={key:0,class:"text-success"},m={key:1},b=(0,l._)("td",null,[(0,l._)("div",{class:"btn-group"},[(0,l._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",id:"edit","data-bs-toggle":"modal","data-bs-target":"#couponCreate"}," 編輯 "),(0,l._)("button",{type:"button",class:"btn btn-outline-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#delProductModal"}," 刪除 ")])],-1),h={id:"couponCreate",ref:"couponCreate",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"};function _(t,a,e,_,g,v){const f=(0,l.up)("coupon-create");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",d,[(0,l._)("div",s,[n,(0,l._)("table",r,[i,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(g.coupon.coupons,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.due_date+"123"},[(0,l._)("td",null,(0,o.zw)(new Date(t.due_date)),1),(0,l._)("td",null,(0,o.zw)(t.title),1),(0,l._)("td",c,(0,o.zw)(t.percent),1),(0,l._)("td",u,(0,o.zw)(t.code),1),(0,l._)("td",null,[t.is_enabled?((0,l.wg)(),(0,l.iD)("span",p,"啟用")):((0,l.wg)(),(0,l.iD)("span",m,"未啟用"))]),b])))),128))])])])]),(0,l._)("div",h,[(0,l.Wm)(f,{onGetCoupon:v.getCoupon,"get-coupon-data":g.coupon},null,8,["onGetCoupon","get-coupon-data"])],512)],64)}const g={class:"modal-dialog modal-xl"},v=(0,l.uE)('<div class="modal-content border-0"><div class="modal-header bg-dark text-white"><h5 id="productModalLabel" class="modal-title"><span>編輯</span></h5></div><div class="modal-body"><div class="row"><div class="col-sm-2"></div><div class="col-sm-8"><div class="row"><div class="mb-4 col-md-6"><label for="category" class="form-label">日期</label><input id="category" type="date" class="form-control" placeholder="請輸入日期"></div><div class="mb-4 col-md-6"><label for="price" class="form-label">折扣(%)</label><input id="unit" type="number" class="form-control" placeholder="請輸入數字(0~100)"></div><div class="mb-4 col-md-6"><label for="price" class="form-label">標題</label><input id="unit" type="text" class="form-control" placeholder="請輸入優惠卷標題"></div><div class="mb-4 col-md-6"><label for="price" class="form-label">代碼</label><input id="unit" type="text" class="form-control" placeholder="請輸入優惠卷代碼"></div><div class="mb-4 col-md-6"><label for="price" class="form-label">數量</label><input id="unit" type="number" class="form-control" placeholder="請輸入優惠卷數量"></div></div><div class="mb-4 col-md-6"><div class="form-check"><input id="is_paid" class="form-check-input" type="checkbox"><label class="form-check-label" for="is_paid">是否啟用</label></div></div><hr></div></div></div><div class="modal-footer"><button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal"> 取消 </button><button type="button" class="btn btn-primary" data-bs-dismiss="modal"> 確認 </button></div></div>',1),f=[v];function y(t,a,e,o,d,s){return(0,l.wg)(),(0,l.iD)("div",g,f)}var w={props:["getCouponData"],data(){return{couponCreate:this.getCouponData}},watch:{getCouponData:function(){this.getCouponData.due_date!==this.couponCreate.due_date&&(this.couponCreate=this.getCouponData)}},methods:{updateCoupon(){},getCoupon(){this.$emit("get-coupon")},addCoupon(){}},mounted(){}},D=e(744);const k=(0,D.Z)(w,[["render",y]]);var M=k,x={data(){return{coupon:{}}},components:{couponCreate:M},methods:{getCoupon(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/danny123/admin/coupons").then((t=>{this.coupon=t.data})).catch((t=>{console.log(t)}))}},mounted(){this.getCoupon()}};const C=(0,D.Z)(x,[["render",_]]);var U=C},2:function(t,a,e){e.r(a),e.d(a,{default:function(){return h}});var l=e(252);const o=(0,l._)("h1",null,"後台首頁",-1),d={class:"nab"},s=(0,l.Uk)("產品"),n=(0,l.Uk)(" | "),r=(0,l.Uk)("訂單"),i=(0,l.Uk)(" | "),c=(0,l.Uk)("優惠卷");function u(t,a,e,u,p,m){const b=(0,l.up)("router-link"),h=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)(l.HY,null,[o,(0,l._)("div",d,[(0,l._)("nav",null,[(0,l.Wm)(b,{to:"/productDashboard"},{default:(0,l.w5)((()=>[s])),_:1}),n,(0,l.Wm)(b,{to:"/orderDashboard"},{default:(0,l.w5)((()=>[r])),_:1}),i,(0,l.Wm)(b,{to:"/couponDashboard"},{default:(0,l.w5)((()=>[c])),_:1})])]),p.loginCheckStatus?((0,l.wg)(),(0,l.j4)(h,{key:0})):(0,l.kq)("",!0)],64)}var p={data(){return{loginCheckStatus:!1}},methods:{loginCheck(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${t}`,console.log(t),this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",t).then((t=>{this.loginCheckStatus=!0})).catch((t=>{console.log(t),alert("無效登入"),this.$router.push("/")}))}},mounted(){this.loginCheck()}},m=e(744);const b=(0,m.Z)(p,[["render",u]]);var h=b},745:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var l={methods:{logout(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((t=>{alert("登出成功"),this.$router.push("/")})).catch((t=>{console.log(t)}))}},mounted(){this.logout()}};const o=l;var d=o},836:function(t,a,e){e.r(a),e.d(a,{default:function(){return dt}});var l=e(252),o=e(577);const d={id:"app"},s={class:"container"},n=(0,l._)("div",{class:"text-end mt-4"},null,-1),r={class:"table mt-4"},i=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"120"}," 建立日期 "),(0,l._)("th",null,"訂單ID"),(0,l._)("th",{width:"100"}),(0,l._)("th",{width:"120"}," 付款方式 "),(0,l._)("th",{width:"100"}," 付款狀態 "),(0,l._)("th",{width:"120"}," 編輯 ")])],-1),c={class:""},u=(0,l._)("td",{class:""},null,-1),p={key:0,class:"text-success"},m={key:1},b={class:"btn-group"},h=["onClick"],_=(0,l._)("button",{type:"button",class:"btn btn-outline-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#delProductModal"}," 刪除 ",-1),g={id:"orderEditUserModal",ref:"orderEditUserModal",class:"modal fade",tabindex:"-1","aria-labelledby":"orderEditUserModal","aria-hidden":"true"},v={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"};function f(t,a,e,f,y,w){const D=(0,l.up)("order-user-modal"),k=(0,l.up)("order-delete-modal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",d,[(0,l._)("div",s,[n,(0,l._)("table",r,[i,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(y.orderData,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,o.zw)(new Date(t.create_at)),1),(0,l._)("td",null,(0,o.zw)(t.id),1),(0,l._)("td",c,(0,o.zw)(t.payment_method),1),u,(0,l._)("td",null,[t.is_paid?((0,l.wg)(),(0,l.iD)("span",p,"已付款")):((0,l.wg)(),(0,l.iD)("span",m,"未付款"))]),(0,l._)("td",null,[(0,l._)("div",b,[(0,l._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",id:"edit","data-bs-toggle":"modal","data-bs-target":"#orderEditUserModal",onClick:a=>w.openModal(t)}," 編輯 ",8,h),_])])])))),128))])])])]),(0,l._)("div",g,[(0,l.Wm)(D,{"order-temp":y.tempData,onOrderData:w.getOrderData},null,8,["order-temp","onOrderData"])],512),(0,l._)("div",v,[(0,l.Wm)(k,{"delete-data":y.tempData,onGetOrder:w.getOrderData},null,8,["delete-data","onGetOrder"])],512)],64)}var y=e(963);const w={class:"modal-dialog modal-xl"},D={class:"modal-content border-0"},k=(0,l._)("div",{class:"modal-header bg-dark text-white"},[(0,l._)("h5",{id:"productModalLabel",class:"modal-title"},[(0,l._)("span",null,"訂單編輯")])],-1),M={class:"modal-body"},x={class:"row"},C=(0,l._)("div",{class:"col-sm-2"},null,-1),U={class:"col-sm-8"},$={key:0,class:"row"},P={class:"mb-4 col-md-6"},O=(0,l._)("label",{for:"category",class:"form-label"},"Email",-1),V={class:"mb-4 col-md-6"},z=(0,l._)("label",{for:"price",class:"form-label"},"名字",-1),T={class:"mb-4 col-md-6"},W=(0,l._)("label",{for:"price",class:"form-label"},"電話",-1),Y={class:"mb-4 col-md-6"},Z=(0,l._)("label",{for:"title",class:"form-label"},"地址",-1),A={class:"mb-4 col-md-6"},H={class:"form-check"},N=(0,l._)("label",{class:"form-check-label",for:"is_paid"},"是否付款",-1),G=(0,l._)("hr",null,null,-1),L={class:"modal-footer"},E=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function B(t,a,e,o,d,s){return(0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("div",D,[k,(0,l._)("div",M,[(0,l._)("div",x,[C,(0,l._)("div",U,[d.tempData.user?((0,l.wg)(),(0,l.iD)("div",$,[(0,l._)("div",P,[O,(0,l.wy)((0,l._)("input",{id:"category",type:"email",class:"form-control",placeholder:"請輸入信箱","onUpdate:modelValue":a[0]||(a[0]=t=>d.tempData.user.email=t)},null,512),[[y.nr,d.tempData.user.email]])]),(0,l._)("div",V,[z,(0,l.wy)((0,l._)("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入名字","onUpdate:modelValue":a[1]||(a[1]=t=>d.tempData.user.name=t)},null,512),[[y.nr,d.tempData.user.name]])]),(0,l._)("div",T,[W,(0,l.wy)((0,l._)("input",{id:"unit",type:"tel",class:"form-control",placeholder:"請輸入電話","onUpdate:modelValue":a[2]||(a[2]=t=>d.tempData.user.tel=t)},null,512),[[y.nr,d.tempData.user.tel]])]),(0,l._)("div",Y,[Z,(0,l.wy)((0,l._)("input",{id:"title",type:"text",class:"form-control",placeholder:"使用者地址","onUpdate:modelValue":a[3]||(a[3]=t=>d.tempData.user.address=t)},null,512),[[y.nr,d.tempData.user.address]])])])):(0,l.kq)("",!0),(0,l._)("div",A,[(0,l._)("div",H,[(0,l.wy)((0,l._)("input",{id:"is_paid",class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=t=>d.tempData.is_paid=t)},null,512),[[y.e8,d.tempData.is_paid]]),N])]),G])])]),(0,l._)("div",L,[E,(0,l._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:a[5]||(a[5]=(...t)=>s.updateOrder&&s.updateOrder(...t))}," 確認 ")])])])}var K={props:["orderTemp"],data(){return{tempData:this.orderTemp}},watch:{orderTemp:function(){this.tempData.id!==this.orderTemp.id&&(this.tempData=this.orderTemp)}},methods:{getOrderData(){this.$emit("order-data")},updateOrder(){this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/danny123/admin/order/${this.tempData.id}`,{data:this.tempData}).then((t=>{alert("修改成功"),this.getOrderData()})).catch((t=>{console.log(t),alert("修改失敗")}))}}},S=e(744);const q=(0,S.Z)(K,[["render",B]]);var I=q;const j={class:"modal-dialog"},J={class:"modal-content border-0"},F=(0,l.uE)('<div class="modal-header bg-danger text-white"><h5 id="delProductModalLabel" class="modal-title"><span>刪除產品</span></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"> 是否刪除訂單 <strong class="text-danger"></strong>(刪除後將無法恢復)。 </div>',2),Q={class:"modal-footer"},R=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function X(t,a,e,o,d,s){return(0,l.wg)(),(0,l.iD)("div",j,[(0,l._)("div",J,[F,(0,l._)("div",Q,[R,(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[0]||(a[0]=(...t)=>s.deleteOrder&&s.deleteOrder(...t))}," 確認刪除 ")])])])}var tt={props:["deleteData"],data(){return{tempData:this.deleteData}},watch:{deleteData:function(){this.tempData.id!==this.deleteData.id&&(this.tempData=this.deleteData)}},methods:{getOrder(){this.$emit("get-order")},deleteOrder(){const t=`https://vue3-course-api.hexschool.io/v2/api/danny123/admin/order/${this.tempData.id}`;this.$http.delete(t).then((t=>{alert("刪除成功"),this.getOrder()})).catch((t=>{console.log(t),alert("刪除失敗")}))}}};const at=(0,S.Z)(tt,[["render",X]]);var et=at,lt={data(){return{orderData:[],tempData:[]}},methods:{getOrderData(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/danny123/admin/orders").then((t=>{this.orderData=t.data.orders})).catch((t=>{console.log(t)}))},openModal(t){this.tempData={...t}}},components:{orderUserModal:I,orderDeleteModal:et},mounted(){this.getOrderData()}};const ot=(0,S.Z)(lt,[["render",f]]);var dt=ot},497:function(t,a,e){e.r(a),e.d(a,{default:function(){return Tt}});var l=e(252),o=e(577);const d={id:"app"},s={class:"container"},n={class:"text-end mt-4"},r={class:"table mt-4"},i=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{width:"120"}," 分類 "),(0,l._)("th",null,"產品名稱"),(0,l._)("th",{width:"120"}," 原價 "),(0,l._)("th",{width:"120"}," 售價 "),(0,l._)("th",{width:"100"}," 是否啟用 "),(0,l._)("th",{width:"120"}," 編輯 ")])],-1),c={class:""},u={class:""},p={key:0,class:"text-success"},m={key:1},b={class:"btn-group"},h=["onClick"],_=["onClick"],g={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},v={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"};function f(t,a,e,f,y,w){const D=(0,l.up)("pagination-bar"),k=(0,l.up)("modal"),M=(0,l.up)("delete-modal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",d,[(0,l._)("div",s,[(0,l._)("div",n,[(0,l._)("button",{class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#productModal",onClick:a[0]||(a[0]=t=>w.openModal("new"))}," 建立新的產品 ")]),(0,l._)("table",r,[i,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(y.products,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("td",null,(0,o.zw)(t.category),1),(0,l._)("td",null,(0,o.zw)(t.title),1),(0,l._)("td",c,(0,o.zw)(t.origin_price),1),(0,l._)("td",u,(0,o.zw)(t.price),1),(0,l._)("td",null,[t.is_enabled?((0,l.wg)(),(0,l.iD)("span",p,"啟用")):((0,l.wg)(),(0,l.iD)("span",m,"未啟用"))]),(0,l._)("td",null,[(0,l._)("div",b,[(0,l._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",id:"edit",onClick:a=>w.openModal("edit",t),"data-bs-toggle":"modal","data-bs-target":"#productModal"}," 編輯 ",8,h),(0,l._)("button",{type:"button",class:"btn btn-outline-danger btn-sm","data-bs-toggle":"modal","data-bs-target":"#delProductModal",onClick:a=>w.openModal("delete",t)}," 刪除 ",8,_)])])])))),128))])])])]),(0,l.Wm)(D,{page:y.pagination,onGetProduct:w.getProducts},null,8,["page","onGetProduct"]),(0,l._)("div",g,[(0,l.Wm)(k,{"temp-data":y.tempData,onGetProduct:w.getProducts,onBtnAction:w.btnMethod,ref:"modal"},null,8,["temp-data","onGetProduct","onBtnAction"])],512),(0,l._)("div",v,[(0,l.Wm)(M,{"temp-data":y.tempData,ref:"deleteModal",onGetProduct:w.getProducts,onBtnAction:w.btnMethod},null,8,["temp-data","onGetProduct","onBtnAction"])],512)],64)}var y=e(963);const w={class:"modal-dialog modal-xl"},D={class:"modal-content border-0"},k=(0,l._)("div",{class:"modal-header bg-dark text-white"},[(0,l._)("h5",{id:"productModalLabel",class:"modal-title"},[(0,l._)("span",null,"新增產品")]),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),M={class:"modal-body"},x={class:"row"},C={class:"col-sm-4"},U={class:"mb-2"},$={class:"mb-3"},P=(0,l._)("label",{for:"imageUrl",class:"form-label"},"輸入圖片網址",-1),O=["src"],V={class:"mb-3"},z=(0,l._)("h3",null,"放入副圖",-1),T=["onUpdate:modelValue"],W=["src"],Y={class:"col-sm-8"},Z={class:"mb-3"},A=(0,l._)("label",{for:"title",class:"form-label"},"標題",-1),H={class:"row"},N={class:"mb-3 col-md-6"},G=(0,l._)("label",{for:"category",class:"form-label"},"分類",-1),L={class:"mb-3 col-md-6"},E=(0,l._)("label",{for:"price",class:"form-label"},"單位",-1),B={class:"row"},K={class:"mb-3 col-md-6"},S=(0,l._)("label",{for:"origin_price",class:"form-label"},"原價",-1),q={class:"mb-3 col-md-6"},I=(0,l._)("label",{for:"price",class:"form-label"},"售價",-1),j=(0,l._)("hr",null,null,-1),J={class:"mb-3"},F=(0,l._)("label",{for:"description",class:"form-label"},"產品描述",-1),Q={class:"mb-3"},R=(0,l._)("label",{for:"content",class:"form-label"},"說明內容",-1),X={class:"mb-3"},tt=(0,l._)("label",{for:"content",class:"form-label"},"Youtube Video ID",-1),at={class:"mb-3"},et={class:"form-check"},lt=(0,l._)("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),ot={class:"modal-footer"},dt=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function st(t,a,e,o,d,s){return(0,l.wg)(),(0,l.iD)("div",w,[(0,l._)("div",D,[k,(0,l._)("div",M,[(0,l._)("div",x,[(0,l._)("div",C,[(0,l._)("div",U,[(0,l._)("div",$,[P,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=t=>d.tempdataModal.imageUrl=t),placeholder:"請輸入圖片連結"},null,512),[[y.nr,d.tempdataModal.imageUrl]]),(0,l._)("img",{class:"img-fluid",src:d.tempdataModal.imageUrl,alt:""},null,8,O)]),(0,l._)("div",V,[z,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.tempdataModal.imagesUrl,((t,a)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:a+"1211"},[(0,l.wy)((0,l._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t=>d.tempdataModal.imagesUrl[a]=t,placeholder:"請輸入圖片連結"},null,8,T),[[y.nr,d.tempdataModal.imagesUrl[a]]]),(0,l._)("img",{class:"img-fluid",src:d.tempdataModal.imagesUrl[a],alt:""},null,8,W)],64)))),128))])]),(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:a[1]||(a[1]=t=>d.tempdataModal.imagesUrl.push())}," 新增圖片 ")]),(0,l._)("div",null,[(0,l._)("button",{class:"btn btn-outline-danger btn-sm d-block w-100",onClick:a[2]||(a[2]=t=>d.tempdataModal.imagesUrl.pop())}," 刪除最後一張圖片 ")])]),(0,l._)("div",Y,[(0,l._)("div",Z,[A,(0,l.wy)((0,l._)("input",{id:"title",type:"text",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=t=>d.tempdataModal.title=t),placeholder:"請輸入標題"},null,512),[[y.nr,d.tempdataModal.title]])]),(0,l._)("div",H,[(0,l._)("div",N,[G,(0,l.wy)((0,l._)("input",{id:"category",type:"text",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=t=>d.tempdataModal.category=t),placeholder:"請輸入分類"},null,512),[[y.nr,d.tempdataModal.category]])]),(0,l._)("div",L,[E,(0,l.wy)((0,l._)("input",{id:"unit",type:"text",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=t=>d.tempdataModal.unit=t),placeholder:"請輸入單位"},null,512),[[y.nr,d.tempdataModal.unit]])])]),(0,l._)("div",B,[(0,l._)("div",K,[S,(0,l.wy)((0,l._)("input",{id:"origin_price",type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=t=>d.tempdataModal.origin_price=t),placeholder:"請輸入原價"},null,512),[[y.nr,d.tempdataModal.origin_price]])]),(0,l._)("div",q,[I,(0,l.wy)((0,l._)("input",{id:"price",type:"number",min:"0",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=t=>d.tempdataModal.price=t),placeholder:"請輸入售價"},null,512),[[y.nr,d.tempdataModal.price]])])]),j,(0,l._)("div",J,[F,(0,l.wy)((0,l._)("textarea",{id:"description",type:"text",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=t=>d.tempdataModal.description=t),placeholder:"請輸入產品描述"},"\r\n                  ",512),[[y.nr,d.tempdataModal.description]])]),(0,l._)("div",Q,[R,(0,l.wy)((0,l._)("textarea",{id:"description",type:"text",class:"form-control","onUpdate:modelValue":a[9]||(a[9]=t=>d.tempdataModal.content=t),placeholder:"請輸入說明內容"},"\r\n                  ",512),[[y.nr,d.tempdataModal.content]])]),(0,l._)("div",X,[tt,(0,l.wy)((0,l._)("textarea",{id:"description",type:"text",class:"form-control","onUpdate:modelValue":a[10]||(a[10]=t=>d.tempdataModal.vid=t),placeholder:"請輸入YoutubeID"},"\r\n                  ",512),[[y.nr,d.tempdataModal.vid]])]),(0,l._)("div",at,[(0,l._)("div",et,[(0,l.wy)((0,l._)("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=t=>d.tempdataModal.is_enabled=t)},null,512),[[y.e8,d.tempdataModal.is_enabled]]),lt])])])])]),(0,l._)("div",ot,[dt,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:a[12]||(a[12]=(...t)=>s.btnAction&&s.btnAction(...t)),"data-bs-dismiss":"modal"}," 確認 ")])])])}var nt={props:["tempData"],data(){return{tempdataModal:this.tempData}},watch:{tempData:function(){this.tempData.id!==this.tempdataModal.id&&(this.tempdataModal=this.tempData)}},methods:{updateProduct(){this.$http.put(`https://vue3-course-api.hexschool.io/v2/api/danny123/admin/product/${this.tempdataModal.id}`,{data:this.tempdataModal}).then((t=>{console.log(t),alert("修改成功"),this.getProduct()})).catch((t=>{console.log(t),alert("修改失敗")}))},getProduct(){this.$emit("get-product")},addData(){this.$http.post("https://vue3-course-api.hexschool.io/v2/api/danny123/admin/product",{data:this.tempdataModal}).then((t=>{console.log(t),this.getProduct(),alert("新增成功")})).catch((t=>{console.log(t),alert("新增失敗")}))},btnAction(){this.$emit("btn-action")}}},rt=e(744);const it=(0,rt.Z)(nt,[["render",st]]);var ct=it;const ut={class:"modal-dialog"},pt={class:"modal-content border-0"},mt=(0,l._)("div",{class:"modal-header bg-danger text-white"},[(0,l._)("h5",{id:"delProductModalLabel",class:"modal-title"},[(0,l._)("span",null,"刪除產品")]),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),bt={class:"modal-body"},ht=(0,l.Uk)(" 是否刪除 "),_t=(0,l._)("strong",{class:"text-danger"},null,-1),gt={class:"modal-footer"},vt=(0,l._)("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function ft(t,a,e,d,s,n){return(0,l.wg)(),(0,l.iD)("div",ut,[(0,l._)("div",pt,[mt,(0,l._)("div",bt,[ht,_t,(0,l.Uk)(" "+(0,o.zw)(s.deleteTempData.title)+"(刪除後將無法恢復)。 ",1)]),(0,l._)("div",gt,[vt,(0,l._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:a[0]||(a[0]=(...t)=>n.btnAction&&n.btnAction(...t))}," 確認刪除 ")])])])}var yt={props:["tempData"],data(){return{deleteTempData:JSON.parse(JSON.stringify(this.tempData))}},watch:{tempData:function(){this.tempData.id!==this.deleteTempData.id&&(this.deleteTempData=this.tempData)}},methods:{deleteData(){const t=`https://vue3-course-api.hexschool.io/v2/api/danny123/admin/product/${this.deleteTempData.id}`;this.$http.delete(t).then((t=>{alert("刪除成功"),this.getProduct()})).catch((t=>{console.log(t),alert("刪除失敗")}))},getProduct(){this.$emit("get-product")},btnAction(){this.$emit("btn-action")}}};const wt=(0,rt.Z)(yt,[["render",ft]]);var Dt=wt;const kt={"aria-label":"Page navigation example"},Mt={class:"pagination"},xt=(0,l.Uk)("Previous"),Ct=(0,l.Uk)("Next");function Ut(t,a,e,d,s,n){const r=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("nav",kt,[(0,l._)("ul",Mt,[(0,l._)("li",{class:(0,o.C_)(["page-item",{disabled:!e.page.has_pre}])},[(0,l.Wm)(r,{class:"page-link",to:"/productDashboard",onClick:a[0]||(a[0]=a=>t.$emit("get-product",e.page.current_page-1))},{default:(0,l.w5)((()=>[xt])),_:1})],2),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.page.total_pages,(a=>((0,l.wg)(),(0,l.iD)("li",{class:(0,o.C_)(["page-item",{active:a===a.current_page}]),key:a+"123"},[(0,l.Wm)(r,{class:"page-link",to:"/productDashboard",onClick:e=>t.$emit("get-product",a)},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(a),1)])),_:2},1032,["onClick"])],2)))),128)),(0,l._)("li",{class:(0,o.C_)(["page-item",{disabled:!e.page.has_next}]),onClick:a[1]||(a[1]=a=>t.$emit("get-product",e.page.current_page+1))},[(0,l.Wm)(r,{class:"page-link",to:"/productDashboard"},{default:(0,l.w5)((()=>[Ct])),_:1})],2)])])}var $t={props:["page"]};const Pt=(0,rt.Z)($t,[["render",Ut]]);var Ot=Pt,Vt={data(){return{products:[],tempData:{imagesUrl:[]},statusNumber:0,pagination:{}}},methods:{getProducts(t=1){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/danny123/admin/products?page=${t}`).then((t=>{this.pagination=t.data.pagination,this.products=t.data.products})).catch((t=>{console.log(t)}))},openModal(t,a){"new"===t?(this.tempData={imagesUrl:[]},this.statusNumber=1):"edit"===t?(this.tempData={...a},this.statusNumber=2):"delete"===t&&(this.tempData={...a})},btnMethod(){1===this.statusNumber?(this.$refs.modal.addData(),this.statusNumber=0):2===this.statusNumber?(this.$refs.modal.updateProduct(),this.statusNumber=0):(this.$refs.deleteModal.deleteData(),this.statusNumber=0)}},components:{modal:ct,deleteModal:Dt,paginationBar:Ot},mounted(){this.getProducts()}};const zt=(0,rt.Z)(Vt,[["render",f]]);var Tt=zt}}]);
//# sourceMappingURL=about.c1e08b9f.js.map